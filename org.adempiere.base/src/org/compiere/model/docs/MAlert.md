# MAlert

## システム概要
- 論理名：アラート管理クラス
- 物理名：MAlert
- 用途：iDempiereシステムにおけるアラート定義、ルール、受信者の管理を行う永続化クラス

## 機能一覧
- アラートルールの管理（getRules）
- アラート受信者の管理（getRecipients）
- ロールベースのアクセス制御（getFirstAD_Role_ID）
- ユーザーベースのアクセス制御（getFirstAD_User_ID）
- 受信者の一意リスト生成（getRecipientUsers）
- クライアントとロールのセキュリティ強制

## クラス/コンポーネントの詳細説明
### アラートルール管理機能
- ルールの動的ロードと更新
- アクティブ状態の管理
- 親子関係の管理
- 名前による順序付け

### 受信者管理機能
- 個別ユーザーの管理
- ロールベースの受信者管理
- アクティブ状態の制御
- ユーザーとロールの関連付け

### セキュリティ管理機能
- クライアントセキュリティの強制
- ロールセキュリティの強制
- ユーザーロールの動的解決
- アクセス権限の検証

## 技術実装の特徴
- クエリベースのデータ取得（Query API使用）
- 効率的なキャッシング（ルールと受信者）
- 階層的なデータ構造（親子関係）
- セキュリティの多層実装
- 柔軟な受信者管理メカニズム
- TreeSetによる重複排除
- 動的なユーザーロール解決
