-- IDEMPIERE-2826 Pull the promotions out of the trunk. Leave it as a plugin
SELECT register_migration_script('202406171322_IDEMPIERE-2826.sql') FROM dual;

-- Jun 17, 2024, 1:22:18 PM CEST
UPDATE AD_Menu SET IsActive='N', EntityType='EXT',Updated=TO_TIMESTAMP('2024-06-17 13:22:18','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Menu_ID IN (53210,53211)
;

-- Jun 17, 2024, 1:25:01 PM CEST
UPDATE AD_Window SET IsActive='N', EntityType='EXT',Updated=TO_TIMESTAMP('2024-06-17 13:25:01','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Window_ID IN (53073,53074)
;

-- Jun 17, 2024, 1:29:23 PM CEST
UPDATE AD_Tab SET IsActive='N', EntityType='EXT',Updated=TO_TIMESTAMP('2024-06-17 13:29:23','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID IN (53201,53202,53203,53204,53205,53206,53207)
;

-- Jun 17, 2024, 1:32:43 PM CEST
UPDATE AD_Field SET IsActive='N', EntityType='EXT',Updated=TO_TIMESTAMP('2024-06-17 13:32:43','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Field_ID IN (56838,56839,56840,56841,56842,56843,56844,56845,56846,56847,56848,56849,56850,56851,56852,56853,56854,56855,56856,56857,56858,56859,56860,56861,56862,56863,56864,56865,56866,56867,56868,56869,56870,56871,56872,56873,56874,56875,56876,56877,56878,56879,56880,56881,56882,56883,56884,56885,56886,56887,56888,56889,56890,56891,56892,56893,56894,56895,56896,56897,56898,56899,56900,56901,56902,56903,56904,56905,57377,57378,204958,204959,204960,204961,204962,204963,204964)
;

-- Jun 17, 2024, 1:26:12 PM CEST
UPDATE AD_Table SET IsActive='N', EntityType='EXT',Updated=TO_TIMESTAMP('2024-06-17 13:26:12','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Table_ID IN (53176,53177,53178,53179,53180,53181,53182)
;

-- Jun 17, 2024, 1:26:18 PM CEST
UPDATE AD_Column SET IsActive='N', EntityType='EXT',Updated=TO_TIMESTAMP('2024-06-17 13:26:18','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID IN (57030,57031,57032,57033,57034,57035,57036,57037,57038,57039,57040,57041,57042,57043,57045,57046,57047,57048,57049,57050,57051,57052,57053,57054,57055,57056,57057,57058,57059,57060,57061,57062,57063,57064,57065,57066,57067,57068,57069,57070,57071,57072,57073,57074,57075,57076,57077,57078,57079,57080,57081,57082,57083,57084,57085,57086,57087,57088,57089,57090,57091,57092,57093,57094,57095,57096,57097,57098,57099,57100,57101,57102,57103,57104,57105,57106,57107,57108,57109,57110,57111,57112,57113,57114,57115,57116,57117,57118,57119,57120,57121,57122,57123,57124,57125,57126,57128,57951,57952,60937,60938,60939,60940,60941,60942,60943)
;

-- Jun 17, 2024, 1:32:15 PM CEST
UPDATE AD_TableIndex SET EntityType='EXT', IsActive='N',Updated=TO_TIMESTAMP('2024-06-17 13:32:15','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_TableIndex_ID IN (200826,200827,200828,200829,200830,200831,200832)
;

-- Jun 17, 2024, 1:32:27 PM CEST
UPDATE AD_IndexColumn SET EntityType='EXT', IsActive='N',Updated=TO_TIMESTAMP('2024-06-17 13:32:27','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_IndexColumn_ID IN (201005,201006,201007,201008,201009,201010,201011)
;

-- Jun 17, 2024, 2:02:38 PM CEST
UPDATE AD_Column SET IsIdentifier='N',Updated=TO_TIMESTAMP('2024-06-17 14:02:38','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57072
;

-- Jun 17, 2024, 2:02:57 PM CEST
UPDATE AD_Column SET SeqNo=10,Updated=TO_TIMESTAMP('2024-06-17 14:02:57','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57071
;

-- Jun 17, 2024, 2:03:06 PM CEST
UPDATE AD_Column SET IsIdentifier='Y', SeqNo=20, IsUpdateable='N',Updated=TO_TIMESTAMP('2024-06-17 14:03:06','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57070
;

-- Jun 17, 2024, 2:04:01 PM CEST
UPDATE AD_Column SET SeqNo=10,Updated=TO_TIMESTAMP('2024-06-17 14:04:01','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57126
;

-- Jun 17, 2024, 2:04:14 PM CEST
UPDATE AD_Column SET SeqNo=20,Updated=TO_TIMESTAMP('2024-06-17 14:04:14','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57102
;

-- Jun 17, 2024, 2:04:49 PM CEST
UPDATE AD_Column SET SeqNoSelection=10,Updated=TO_TIMESTAMP('2024-06-17 14:04:49','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57055
;

-- Jun 17, 2024, 2:05:02 PM CEST
UPDATE AD_Column SET SeqNoSelection=20,Updated=TO_TIMESTAMP('2024-06-17 14:05:02','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57058
;

-- Jun 17, 2024, 2:05:19 PM CEST
UPDATE AD_Column SET SeqNoSelection=10,Updated=TO_TIMESTAMP('2024-06-17 14:05:19','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57034
;

-- Jun 17, 2024, 2:05:29 PM CEST
UPDATE AD_Column SET SeqNoSelection=20,Updated=TO_TIMESTAMP('2024-06-17 14:05:29','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57037
;

-- Jun 17, 2024, 2:06:02 PM CEST
UPDATE AD_Column SET IsMandatory='Y',Updated=TO_TIMESTAMP('2024-06-17 14:06:02','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Column_ID=57119
;

-- Jun 17, 2024, 2:06:03 PM CEST
INSERT INTO t_alter_column values('m_promotionreward','IsSameDistribution','CHAR(1)',null,'Y')
;

-- Jun 17, 2024, 2:06:03 PM CEST
UPDATE M_PromotionReward SET IsSameDistribution='Y' WHERE IsSameDistribution IS NULL
;

-- Jun 17, 2024, 2:06:03 PM CEST
INSERT INTO t_alter_column values('m_promotionreward','IsSameDistribution',null,'NOT NULL',null)
;

UPDATE AD_ModelValidator
SET Help = CASE WHEN Help IS NULL THEN '' ELSE Help || ' / ' END || 'Deprecated, use instead the plugin org.idempiere.promotions'
WHERE ModelValidationClass='org.adempiere.model.PromotionValidator'
;

